-- ============================================
-- EXERCICE: Classement des jeux par genre
-- NIVEAU: ðŸŸ¡ IntermÃ©diaire
-- CONCEPTS: Window Functions, RANK, PARTITION BY
--
-- ðŸ“š Ressources SQLZoo recommandÃ©es :
-- - Tutorial 8+ : https://sqlzoo.net/wiki/Window_functions
--
-- ðŸŽ¯ OBJECTIF PÃ‰DAGOGIQUE:
-- Pratiquer le classement avec RANK/DENSE_RANK Ã  l'intÃ©rieur de groupes.
-- Comprendre comment obtenir le TOP N par catÃ©gorie.
--
-- ðŸ’¡ RAPPEL DE SYNTAXE:
-- SELECT colonnes,
--        RANK() OVER (PARTITION BY categorie ORDER BY score DESC) AS rnk
-- FROM table;
--
-- ============================================
-- CONSIGNE:
-- Pour chaque genre, classez les jeux par Metacritic et exposez le rang.
--
-- Colonnes attendues: genre, name, metacritic, rnk
--
-- Window function:
-- - PartitionnÃ©e par genre (chaque genre a son classement indÃ©pendant)
-- - OrdonnÃ©e par metacritic DESC
-- - Utilisez RANK() ou DENSE_RANK()
--
-- Filtres: metacritic IS NOT NULL
-- Ordre final: genre ASC, rnk ASC
--
-- Option recommandÃ©e: limiter Ã  rnk <= 5 pour rÃ©duire le volume de rÃ©sultats
--
-- ðŸ’¡ STRUCTURE:
-- Vous aurez besoin de jointures:
-- games -> game_genres -> genres
--
-- Puis appliquez la window function, et enfin filtrez sur rnk <= 5
--
-- ðŸ’¡ RÃ‰SULTAT ATTENDU:
-- Action       | The Witcher 3    | 98 | 1
-- Action       | GTA V            | 97 | 2
-- Action       | ...
-- Adventure    | Portal 2         | 95 | 1
-- Adventure    | ...
-- ============================================
