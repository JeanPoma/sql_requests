-- ============================================
-- EXERCICE: Calcul de percentiles par annÃ©e
-- NIVEAU: ðŸ”´ AvancÃ©
-- CONCEPTS: Percentiles, window functions avancÃ©es, NTILE
--
-- ðŸŽ¯ OBJECTIF PÃ‰DAGOGIQUE:
-- Apprendre Ã  calculer des percentiles (P90, mÃ©diane, etc.)
-- pour analyser la distribution des donnÃ©es.
--
-- ðŸ’¡ QU'EST-CE QU'UN PERCENTILE ?
-- P90 = valeur en dessous de laquelle se trouvent 90% des observations
-- Exemple: P90 = 85 signifie que 90% des jeux ont un score <= 85
--
-- ============================================
-- CONSIGNE:
-- Calculez, pour chaque annÃ©e, le percentile P90 du Metacritic.
--
-- Colonnes: year, p90
--
-- ðŸ’¡ ASTUCE MARIADB:
-- MariaDB ne supportant pas PERCENTILE_CONT nativement, plusieurs approches:
-- 
-- 1. Avec NTILE (approximation):
--    - Divisez en 10 groupes avec NTILE(10)
--    - Prenez le max du groupe 9
--
-- 2. Avec ROW_NUMBER:
--    - NumÃ©rotez les lignes ordonnÃ©es par metacritic
--    - Prenez la ligne Ã  position CEIL(0.9 * COUNT(*))
--
-- Filtres: year IS NOT NULL, metacritic IS NOT NULL
-- Ordre: year DESC
--
-- ðŸ’¡ POURQUOI C'EST UTILE ?
-- Les percentiles donnent une meilleure vue de la distribution
-- que la simple moyenne (moins sensibles aux valeurs extrÃªmes).
-- ============================================
