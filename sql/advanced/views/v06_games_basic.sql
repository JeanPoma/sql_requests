-- ============================================
-- EXERCICE: Vue updatable (modifiable)
-- NIVEAU: üî¥ Avanc√© - Vues
-- CONCEPTS: Vues updatables, limitations
--
-- üìö Documentation PostgreSQL :
-- - [CREATE VIEW](https://www.postgresql.org/docs/current/sql-createview.html)
-- - [Updatable Views](https://mariadb.com/kb/en/inserting-and-updating-with-views/)
--
-- üéØ OBJECTIF P√âDAGOGIQUE:
-- Comprendre quelles vues sont modifiables (updatable) et lesquelles ne le sont pas.
--
-- üí° VUE UPDATABLE:
-- Une vue est updatable (on peut faire UPDATE/INSERT/DELETE dessus) SI:
-- ‚úÖ Elle r√©f√©rence une seule table
-- ‚úÖ Pas de DISTINCT
-- ‚úÖ Pas de GROUP BY / HAVING
-- ‚úÖ Pas de UNION
-- ‚úÖ Pas de sous-requ√™te dans SELECT
-- ‚úÖ Pas de fonction d'agr√©gation
--
-- Si ces conditions sont remplies, UPDATE/INSERT/DELETE sur la vue
-- modifient directement la table sous-jacente.
--
-- ============================================
-- CONSIGNE:
-- Cr√©ez une vue 'view_games_basic' qui est updatable.
--
-- Colonnes de la vue:
-- - id (INT)
-- - name (VARCHAR)
-- - year (INT)
-- - metacritic (INT)
-- - ratings_count (INT)
--
-- Table source: games (une seule table, pas de jointure)
--
-- Filtre:
-- - year IS NOT NULL (pour n'exposer que les jeux avec ann√©e connue)
--
-- üí° CETTE VUE EST UPDATABLE:
-- Apr√®s cr√©ation, on peut faire:
-- UPDATE view_games_basic SET metacritic = 95 WHERE id = 123;
-- -- Cela modifiera directement la table games
--
-- üí° COMPARAISON:
-- view_games_basic -> UPDATABLE (1 table, pas d'agr√©gat)
-- view_genre_stats -> NON UPDATABLE (GROUP BY)
-- view_games_complete -> NON UPDATABLE (plusieurs tables + GROUP_CONCAT)
--
-- ‚ö†Ô∏è ATTENTION:
-- Le filtre WHERE year IS NOT NULL signifie qu'on ne peut pas
-- UPDATE pour mettre year √† NULL via cette vue.
-- ============================================
