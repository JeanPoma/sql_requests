-- ============================================
-- EXERCICE: Vue d√©normalis√©e (simplifier les jointures)
-- NIVEAU: üî¥ Avanc√© - Vues
-- CONCEPTS: CREATE VIEW, jointures multiples, d√©normalisation
--
-- üìö Documentation MariaDB :
-- - [CREATE VIEW](https://mariadb.com/kb/en/create-view/)
-- - [GROUP_CONCAT](https://mariadb.com/kb/en/group_concat/)
-- - [LEFT JOIN](https://mariadb.com/kb/en/join-syntax/)
--
-- üéØ OBJECTIF P√âDAGOGIQUE:
-- Cr√©er une vue "compl√®te" qui rassemble toutes les informations
-- d'un jeu en une seule ligne, facilitant les requ√™tes futures.
--
-- üí° VUE D√âNORMALIS√âE:
-- Au lieu de faire 5 jointures √† chaque fois, on cr√©e une vue
-- qui fait le travail une fois pour toutes.
--
-- Avantages:
-- - Simplifie drastiquement les requ√™tes utilisateur
-- - Abstrait la complexit√© du sch√©ma normalis√©
-- - Code plus lisible et maintenable
--
-- Inconv√©nient:
-- - Peut √™tre lente sur de gros volumes (pas de cache)
--
-- ============================================
-- CONSIGNE:
-- Cr√©ez une vue 'view_games_complete' qui rassemble toutes les m√©tadonn√©es
-- d'un jeu en une seule ligne.
--
-- Colonnes de la vue:
-- - id (INT)
-- - name (VARCHAR)
-- - year (INT)
-- - metacritic (INT)
-- - rating (DECIMAL)
-- - platforms (TEXT) : codes plateformes s√©par√©s par ', '
-- - genres (TEXT) : genres s√©par√©s par ', '
-- - publishers (TEXT) : √©diteurs s√©par√©s par ', '
-- - developers (TEXT) : d√©veloppeurs s√©par√©s par ', '
--
-- Jointures (toutes LEFT JOIN car optionnelles):
-- games 
--   LEFT JOIN game_platforms -> platforms
--   LEFT JOIN game_genres -> genres
--   LEFT JOIN game_publishers -> publishers
--   LEFT JOIN game_developers -> developers
--
-- Agr√©gations (GROUP_CONCAT avec DISTINCT pour √©viter les doublons):
-- - platforms: GROUP_CONCAT(DISTINCT platforms.code ORDER BY platforms.code SEPARATOR ', ')
-- - genres: GROUP_CONCAT(DISTINCT genres.name ORDER BY genres.name SEPARATOR ', ')
-- - publishers: GROUP_CONCAT(DISTINCT publishers.name ORDER BY publishers.name SEPARATOR ', ')
-- - developers: GROUP_CONCAT(DISTINCT developers.name ORDER BY developers.name SEPARATOR ', ')
--
-- GROUP BY: games.id (et colonnes non-agr√©g√©es)
--
-- üí° UTILISATION:
-- -- Au lieu de 5 jointures:
-- SELECT * FROM view_games_complete WHERE name LIKE '%Witcher%';
-- ============================================
